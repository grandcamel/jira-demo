# Relationships Scenario - Tests jira-relationships skill
# Issue linking and dependencies
---
prompt: |
  What link types are available in JIRA?
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [link]
    must_not_contain: [error, failed]
  semantic: |
    Response should list available link types like Blocks, Relates, etc.
---
prompt: |
  Show me all links for DEMO-84
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [DEMO-84]
    must_not_contain: [error, failed]
  semantic: |
    Response should show all issue links for DEMO-84 (epic).
---
prompt: |
  Link DEMO-86 blocks DEMO-87
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [DEMO-86, DEMO-87, block]
    must_not_contain: [error, failed]
  semantic: |
    Response should confirm a blocking link was created.
---
prompt: |
  Link DEMO-88 relates to DEMO-89
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [DEMO-88, DEMO-89, relate]
    must_not_contain: [error, failed]
  semantic: |
    Response should confirm a relates-to link was created.
---
prompt: |
  Mark DEMO-91 as a duplicate of DEMO-86
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [DEMO-91, DEMO-86, duplicate]
    must_not_contain: [error, failed]
  semantic: |
    Response should confirm a duplicate link was created.
---
prompt: |
  Show me issues that DEMO-86 blocks
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [DEMO-86]
    must_not_contain: [error, failed]
  semantic: |
    Response should show outward blocking links from DEMO-86.
---
prompt: |
  What is blocking DEMO-87?
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [DEMO-87]
    must_not_contain: [error, failed]
  semantic: |
    Response should show issues that block DEMO-87.
---
prompt: |
  Show me the full blocker chain for DEMO-87
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [DEMO-87]
    must_not_contain: [error, failed]
  semantic: |
    Response should show recursive blocker chain analysis.
---
prompt: |
  Clone DEMO-86 to a new issue
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [DEMO-, clone]
    must_not_contain: [error, failed]
  semantic: |
    Response should confirm issue was cloned with new issue key.
---
prompt: |
  Clone DEMO-84 including subtasks and links
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [DEMO-, clone]
    must_not_contain: [error, failed]
  semantic: |
    Response should confirm epic clone with subtasks and links.
---
prompt: |
  Preview removing all links from DEMO-91
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [DEMO-91, preview]
    must_not_contain: [error, failed]
  semantic: |
    Response should show what links would be removed (dry-run).
---
prompt: |
  Show link statistics for project DEMO
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [DEMO, link]
    must_not_contain: [error, failed]
  semantic: |
    Response should show link statistics and counts.
---
