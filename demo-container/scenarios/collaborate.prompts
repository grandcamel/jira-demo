# Collaborate Scenario - Tests jira-collaborate skill
# Comments, watchers, and notifications
---
prompt: |
  Add a comment to DEMO-86: Starting investigation of the login bug
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [comment, added]
    must_not_contain: [error, failed]
  semantic: |
    Response should confirm the comment was added to DEMO-86.
---
prompt: |
  Add a formatted comment to DEMO-86: **Root cause found** - the issue is in the auth.validateToken function
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [comment, added]
    must_not_contain: [error, failed]
  semantic: |
    Response should confirm a formatted markdown comment was added.
---
prompt: |
  Show me all comments on DEMO-86
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [DEMO-86, comment]
    must_not_contain: [error, failed]
  semantic: |
    Response should list all comments on the issue with authors and content.
---
prompt: |
  Add an internal comment to DEMO-86 visible only to Administrators: Security review needed before fix
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [comment, internal]
    must_not_contain: [error, failed]
  semantic: |
    Response should confirm an internal/restricted comment was added.
---
prompt: |
  Who is watching DEMO-86?
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [DEMO-86]
    must_not_contain: [error, failed]
  semantic: |
    Response should list users watching the issue.
---
prompt: |
  Add Jane Manager as a watcher on DEMO-86
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [Jane, watcher]
    must_not_contain: [error, failed]
  semantic: |
    Response should confirm Jane was added as a watcher.
---
prompt: |
  Remove Jane Manager from watching DEMO-86
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [Jane, removed]
    must_not_contain: [error, failed]
  semantic: |
    Response should confirm Jane was removed from watchers.
---
prompt: |
  Preview sending a notification to the assignee and reporter of DEMO-86
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [preview, notification]
    must_not_contain: [error, failed]
  semantic: |
    Response should show what notification would be sent (dry-run).
---
prompt: |
  Show me the activity history for DEMO-86
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [DEMO-86]
    must_not_contain: [error, failed]
  semantic: |
    Response should show changelog/activity history for the issue.
---
prompt: |
  Show status and assignee changes for DEMO-86
expect:
  tools:
    must_call: [Skill]
    # must_not_call: [Bash]  # Relaxed - Claude may explore
  text:
    must_contain: [DEMO-86]
    must_not_contain: [error, failed]
  semantic: |
    Response should show filtered history of status and assignee changes.
---
